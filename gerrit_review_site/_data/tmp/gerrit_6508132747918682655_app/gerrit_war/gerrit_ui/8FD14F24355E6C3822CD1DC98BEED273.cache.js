CodeMirror.defineMode("xml",function(A,l){function m(a,b){function d(d){b.tokenize=d;return d(a,b)}var q=a.next();if("<"==q){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?d(r("atom","]]\x3e")):null:a.match("--")?d(r("comment","--\x3e")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),d(s(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),b.tokenize=r("meta","?>"),"meta";q=a.eat("/");g="";for(var c;c=a.eat(/[^\s\u00a0=<>\"\'\/?]/);)g+=c;if(!g)return"tag error";h=q?"closeTag":"openTag";b.tokenize=
t;return"tag"}if("&"==q)return(a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"))?"atom":"error";a.eatWhile(/[^&<]/);return null}function t(a,b){var d=a.next();if(">"==d||"/"==d&&a.eat(">"))return b.tokenize=m,h=">"==d?"endTag":"selfcloseTag","tag";if("="==d)return h="equals",null;if("<"==d)return b.tokenize=m,(d=b.tokenize(a,b))?d+" error":"error";if(/[\'\"]/.test(d))return b.tokenize=B(d),b.stringStartCol=a.column(),b.tokenize(a,
b);a.eatWhile(/[^\s\u00a0=<>\"\']/);return"word"}function B(a){var b=function(b,c){for(;!b.eol();)if(b.next()==a){c.tokenize=t;break}return"string"};b.isInAttribute=!0;return b}function r(a,b){return function(d,c){for(;!d.eol();){if(d.match(b)){c.tokenize=m;break}d.next()}return a}}function s(a){return function(b,d){for(var c;null!=(c=b.next());){if("<"==c)return d.tokenize=s(a+1),d.tokenize(b,d);if(">"==c)if(1==a){d.tokenize=m;break}else return d.tokenize=s(a-1),d.tokenize(b,d)}return"meta"}}function n(){for(var a=
arguments.length-1;0<=a;a--)c.cc.push(arguments[a])}function e(){n.apply(null,arguments);return!0}function u(){c.context&&(c.context=c.context.prev)}function C(a){return"openTag"==a?(c.tagName=g,c.tagStart=v.column(),e(p,D(c.startOfLine))):"closeTag"==a?(a=!1,c.context?c.context.tagName!=g&&(k.implicitlyClosed.hasOwnProperty(c.context.tagName.toLowerCase())&&u(),a=!c.context||c.context.tagName!=g):a=!0,a&&(f="error"),e(E(a))):e()}function D(a){return function(b){var d=c.tagName;c.tagName=c.tagStart=
null;if("selfcloseTag"==b||"endTag"==b&&k.autoSelfClosers.hasOwnProperty(d.toLowerCase()))return w(d.toLowerCase()),e();"endTag"==b&&(w(d.toLowerCase()),b=k.doNotIndent.hasOwnProperty(d)||c.context&&c.context.noIndent,c.context={prev:c.context,tagName:d,indent:c.indented,startOfLine:a,noIndent:b});return e()}}function E(a){return function(b){a&&(f="error");if("endTag"==b)return u(),e();f="error";return e(arguments.callee)}}function w(a){for(var b;c.context;){b=c.context.tagName.toLowerCase();if(!k.contextGrabbers.hasOwnProperty(b)||
!k.contextGrabbers[b].hasOwnProperty(a))break;u()}}function p(a){if("word"==a)return f="attribute",e(x,p);if("endTag"==a||"selfcloseTag"==a)return n();f="error";return e(p)}function x(a){if("equals"==a)return e(F,p);if(!k.allowMissing)f="error";else if("word"==a)return f="attribute",e(x,p);return"endTag"==a||"selfcloseTag"==a?n():e()}function F(a){if("string"==a)return e(y);if("word"==a&&k.allowUnquoted)return f="string",e();f="error";return"endTag"==a||"selfCloseTag"==a?n():e()}function y(a){return"string"==
a?e(y):n()}var z=A.indentUnit,G=l.multilineTagIndentFactor||1,H=l.multilineTagIndentPastTag||!0,k=l.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,
article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,
allowMissing:!1},I=l.alignCDATA,g,h,c,v,f;return{startState:function(){return{tokenize:m,cc:[],indented:0,startOfLine:!0,tagName:null,tagStart:null,context:null}},token:function(a,b){!b.tagName&&a.sol()&&(b.startOfLine=!0,b.indented=a.indentation());if(a.eatSpace())return null;f=h=g=null;var d=b.tokenize(a,b);b.type=h;if((d||h)&&"comment"!=d)for(c=b,v=a;!(b.cc.pop()||C)(h||d););b.startOfLine=!1;f&&(d="error"==f?d+" error":f);return d},indent:function(a,b,d){var c=a.context;if(a.tokenize.isInAttribute)return a.stringStartCol+
1;if(a.tokenize!=t&&a.tokenize!=m||c&&c.noIndent)return d?d.match(/^(\s*)/)[0].length:0;if(a.tagName)return H?a.tagStart+a.tagName.length+2:a.tagStart+z*G;if(I&&/<!\[CDATA\[/.test(b))return 0;c&&/^<\//.test(b)&&(c=c.prev);for(;c&&!c.startOfLine;)c=c.prev;return c?c.indent+z:0},electricChars:"/",blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml"}});CodeMirror.defineMIME("text/xml","xml");
CodeMirror.defineMIME("application/xml","xml");CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});
