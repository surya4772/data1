CodeMirror.defineMode("markdown",function(u,h){function k(b,a,d){a.f=a.inline=d;return d(b,a)}function v(b){b.linkTitle=!1;b.em=!1;b.strong=!1;b.quote=0;p||b.f!=w||(b.f=g,b.block=l);b.trailingSpace=0;b.trailingSpaceNewLine=!1;b.thisLineHasContent=!1;return null}function l(b,a){var d=!1!==a.list;!1!==a.list&&0<=a.indentationDiff?(4>a.indentationDiff&&(a.indentation-=a.indentationDiff),a.list=null):!1!==a.list&&0<a.indentation?(a.list=null,a.listDepth=Math.floor(a.indentation/4)):!1!==a.list&&(a.list=
!1,a.listDepth=0);var c=null;if(4<=a.indentationDiff)return a.indentation-=4,b.skipToEnd(),m;if(b.eatSpace())return null;if(c=b.match(C))a.header=6>=c[0].length?c[0].length:6;else if(a.prevLineHasContent&&(c=b.match(D)))a.header="="==c[0].charAt(0)?1:2;else if(b.eat(">"))for(a.indentation++,a.quote=1,b.eatSpace();b.eat(">");)b.eatSpace(),a.quote++;else{if("["===b.peek())return k(b,a,E);if(b.match(F,!0))return G;if((!a.prevLineHasContent||d)&&(b.match(H,!0)||b.match(I,!0)))a.indentation+=4,a.list=
!0,a.listDepth++,h.taskLists&&b.match(x,!1)&&(a.taskList=!0);else if(h.fencedCodeBlocks&&b.match(/^```([\w+#]*)/,!0))return a.localMode=J(RegExp.$1),a.localMode&&(a.localState=a.localMode.startState()),d=K,a.f=a.block=d,d(b,a),m}return k(b,a,a.inline)}function w(b,a){var d=q.token(b,a.htmlState);p&&"tag"===d&&"openTag"!==a.htmlState.type&&!a.htmlState.context&&(a.f=g,a.block=l);a.md_inside&&-1!=b.current().indexOf(">")&&(a.f=g,a.block=l,a.htmlState.context=void 0);return d}function K(b,a){if(b.sol()&&
b.match(/^```/,!0))return a.localMode=a.localState=null,a.f=g,a.block=l,m;if(a.localMode)return a.localMode.token(b,a.localState);b.skipToEnd();return m}function f(b){var a=[];if(b.taskOpen)return"meta";if(b.taskClosed)return"property";b.strong&&a.push(L);b.em&&a.push(M);b.linkText&&a.push(y);b.code&&a.push(m);b.header&&(a.push(z),a.push(z+b.header));b.quote&&a.push(b.quote%2?N:O);if(!1!==b.list){var d=(b.listDepth-1)%3;d?1===d?a.push(P):a.push(Q):a.push(R)}b.trailingSpaceNewLine?a.push("trailing-space-new-line"):
b.trailingSpace&&a.push("trailing-space-"+(b.trailingSpace%2?"a":"b"));return a.length?a.join(" "):null}function S(b,a){if(b.match(T,!0))return f(a)}function g(b,a){var d=a.text(b,a);if("undefined"!==typeof d)return d;if(a.list)return a.list=null,f(a);if(a.taskList)return"x"!==b.match(x,!0)[1]?a.taskOpen=!0:a.taskClosed=!0,a.taskList=!1,f(a);a.taskOpen=!1;a.taskClosed=!1;var d=b.sol(),c=b.next();if("\\"===c)return b.next(),f(a);if(a.linkTitle){a.linkTitle=!1;var e=c;"("===c&&(e=")");e=(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,
"\\$1");if(b.match(new RegExp("^\\s*(?:[^"+e+"\\\\]+|\\\\\\\\|\\\\.)"+e),!0))return r}if("`"===c){e=f(a);d=b.pos;b.eatWhile("`");d=1+b.pos-d;if(!a.code)A=d,a.code=!0;else if(d===A)return a.code=!1,e;return f(a)}if(a.code)return f(a);if("!"===c&&b.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return b.match(/\[[^\]]*\]/),a.inline=a.f=B,U;if("["===c&&b.match(/.*\](\(| ?\[)/,!1))return a.linkText=!0,f(a);if("]"===c&&a.linkText)return d=f(a),a.linkText=!1,a.inline=a.f=B,d;if("<"===c&&b.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,
!1))return k(b,a,s(V,">"));if("<"===c&&b.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return k(b,a,s(W,">"));if("<"===c&&b.match(/^\w/,!1))return-1!=b.string.indexOf(">")&&(d=b.string.substring(1,b.string.indexOf(">")),/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(d)&&(a.md_inside=!0)),b.backUp(1),d=w,a.f=a.block=d,d(b,a);if("<"===c&&b.match(/^\/\w*?>/))return a.md_inside=!1,"tag";var g=!1;!h.underscoresBreakWords&&"_"===c&&"_"!==b.peek()&&b.match(/(\w)/,!1)&&(e=b.pos-2,0<=e&&(e=b.string.charAt(e),"_"!==
e&&e.match(/(\w)/,!1)&&(g=!0)));e=f(a);if("*"===c||"_"===c&&!g){if(!d||" "!==b.peek()){if(a.strong===c&&b.eat(c))return a.strong=!1,e;if(!a.strong&&b.eat(c))return a.strong=c,f(a);if(a.em===c)return a.em=!1,e;if(!a.em)return a.em=c,f(a)}}else if(" "===c&&(b.eat("*")||b.eat("_"))){if(" "===b.peek())return f(a);b.backUp(1)}" "===c&&(b.match(/ +$/,!1)?a.trailingSpace++:a.trailingSpace&&(a.trailingSpaceNewLine=!0));return f(a)}function B(b,a){if(b.eatSpace())return null;var d=b.next();return"("===d||
"["===d?k(b,a,s(r,"("===d?")":"]")):"error"}function E(b,a){return b.match(/^[^\]]*\]:/,!0)?(a.f=X,y):k(b,a,g)}function X(b,a){if(b.eatSpace())return null;b.match(/^[^\s]+/,!0);void 0===b.peek()?a.linkTitle=!0:b.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0);a.f=a.inline=g;return r}function Y(b){t[b]||(b=(b+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),t[b]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+b+")"));return t[b]}function s(b,a,d){d=d||g;return function(c,
e){c.match(Y(a));e.inline=e.f=d;return b}}var p=CodeMirror.modes.hasOwnProperty("xml"),q=CodeMirror.getMode(u,p?{name:"xml",htmlMode:!0}:"text/plain"),n={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},J=function(){var b,a={},d={},c,e=[];for(c in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(c)&&e.push(c);for(b=0;b<e.length;b++)a[e[b]]=e[b];e=[];for(c in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(c)&&
e.push({mime:c,mode:CodeMirror.mimeModes[c]});for(b=0;b<e.length;b++)c=e[b].mime,d[c]=e[b].mime;for(var f in n)if(n[f]in a||n[f]in d)a[f]=n[f];return function(b){return a[b]?CodeMirror.getMode(u,a[b]):null}}();void 0===h.underscoresBreakWords&&(h.underscoresBreakWords=!0);void 0===h.fencedCodeBlocks&&(h.fencedCodeBlocks=!1);void 0===h.taskLists&&(h.taskLists=!1);var A=0,z="header",m="comment",N="atom",O="number",R="variable-2",P="variable-3",Q="keyword",G="hr",U="tag",V="link",W="link",y="link",r=
"string",M="em",L="strong",F=/^([*\-=_])(?:\s*\1){2,}\s*$/,H=/^[*\-+]\s+/,I=/^[0-9]+\.\s+/,x=/^\[(x| )\](?=\s)/,C=/^#+/,D=/^(?:\={1,}|-{1,})$/,T=/^[^!\[\]*_\\<>` "'(]+/,t=[];return{startState:function(){return{f:l,prevLineHasContent:!1,thisLineHasContent:!1,block:l,htmlState:CodeMirror.startState(q),indentation:0,inline:g,text:S,linkText:!1,linkTitle:!1,em:!1,strong:!1,header:0,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1}},copyState:function(b){return{f:b.f,prevLineHasContent:b.prevLineHasContent,
thisLineHasContent:b.thisLineHasContent,block:b.block,htmlState:CodeMirror.copyState(q,b.htmlState),indentation:b.indentation,localMode:b.localMode,localState:b.localMode?CodeMirror.copyState(b.localMode,b.localState):null,inline:b.inline,text:b.text,linkTitle:b.linkTitle,em:b.em,strong:b.strong,header:b.header,taskList:b.taskList,list:b.list,listDepth:b.listDepth,quote:b.quote,trailingSpace:b.trailingSpace,trailingSpaceNewLine:b.trailingSpaceNewLine,md_inside:b.md_inside}},token:function(b,a){if(b.sol()){if(b.match(/^\s*$/,
!0))return a.prevLineHasContent=!1,v(a);a.prevLineHasContent=a.thisLineHasContent;a.thisLineHasContent=!0;a.header=0;a.taskList=!1;a.code=!1;a.trailingSpace=0;a.trailingSpaceNewLine=!1;a.f=a.block;var d=b.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,c=4*Math.floor((d-a.indentation)/4);4<c&&(c=4);c=a.indentation+c;a.indentationDiff=c-a.indentation;a.indentation=c;if(0<d)return null}return a.f(b,a)},blankLine:v,getType:f}},"xml");CodeMirror.defineMIME("text/x-markdown","markdown");
